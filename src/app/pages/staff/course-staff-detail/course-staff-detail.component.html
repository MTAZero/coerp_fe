<app-main-container [hasBottom]="false">
  <div top class="card-body pb-2" style="height: 100%;">
    <div class="customer-detail">
      <div class="menu content mb-2" id="content">
        <div id="1" class="row title-section">
          <h5>Thông tin chung</h5>
        </div>
      </div>
      <div class="main">
        <div class="content mb-2" id="content">
          <div id="1" class="row title-section">
            <h5>Thông tin chung</h5>
          <i
              [ngClass]="listView[0] ? 'fe-edit ml-2' : 'fe-save ml-2'"
              (click)="switchViewType(0)"
            ></i>
          </div>
          <div [formGroup]="form">
            <div class="form-row">
              <div class="form-group row mb-3">
                <label class="col-4 col-form-label">Tên khóa học <span>(*)</span></label>
                <div class="col-6">
                  <input 
                    class="form-control" 
                    formControlName="tn_name"
                    [readonly]="listView[0]"
                    [ngClass]="{
                      'is-invalid':
                        submitted && (form.controls.tn_name.errors || errorField === 'tn_name')
                    }"
                  />
                  <div
                    *ngIf="submitted && (form.controls.tn_name.errors || errorField === 'tn_name')"
                    class="invalid-feedback"
                  >
                 
                  <span *ngIf="form.controls.tn_name.errors.required">Trường bắt buộc</span>
                  </div>
                  </div>
                </div>
              
              <div class="form-group row mb-3">
                <label class="col-4 col-form-label">Nội dung khóa học <span>(*)</span></label>
                <div class="col-6">
                  <input 
                    class="form-control" 
                    formControlName="tn_content"
                    [readonly]="listView[0]"
                    [ngClass]="{
                      'is-invalid':
                        submitted && (form.controls.tn_content.errors)
                    }" 
                    />
                    <div
                    *ngIf="submitted && (form.controls.dev_name.errors)"
                    class="invalid-feedback"
                  >
                    <span>Trường bắt buộc</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group row mb-3">
                <label class="col-4 col-form-label">Thời gian bắt đầu <span>(*)</span></label>
                <div class="col-6">
                  <div class="input-group clockpicker mb-2 mr-1">
                    <input
                      ngbDatepicker
                      readonly="true"
                      class="form-control"
                      placeholder="Chọn ngày"
                      #start_work="ngbDatepicker"
                      formControlName="tn_start_date"
                      [disabled]="listView[0]"
                      [maxDate]="form.value.tn_end_date"
                      [ngClass]="{
                        'is-invalid':
                          submitted &&
                        
                          formProfile.value.tn_start_date === null
                      }"
                    />
                    <div class="input-group-append" (click)="start_work.toggle()">
                      <span class="input-group-text"><i class="mdi mdi-calendar"></i></span>
                    </div>
                    <div
                      *ngIf="
                        submitted &&
                  
                        formProfile.value.tn_start_date === null
                      "
                      class="invalid-feedback"
                    >
                      <span>Trường bắt buộc</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group row mb-3">
                <label class="col-4 col-form-label">Thời gian kết thúc <span>(*)</span></label>
                <div class="col-6">
                  <div class="input-group clockpicker mb-2 mr-1">
                    <input
                      ngbDatepicker
                      readonly="true"
                      class="form-control"
                      placeholder="Chọn ngày"
                      #end_work="ngbDatepicker"
                      formControlName="tn_end_date"
                      [disabled]="listView[0]"
                      [minDate]="form.value.tn_start_date"
                      [ngClass]="{
                        'is-invalid':
                          submitted &&
                        
                          formProfile.value.tn_end_date === null
                      }"
                     
                    />
                    <div class="input-group-append" (click)="end_work.toggle()">
                      <span class="input-group-text"><i class="mdi mdi-calendar"></i></span>
                    </div>
                    <div
                      *ngIf="
                        submitted &&
                      
                        formProfile.value.tn_end_date === null
                      "
                      class="invalid-feedback"
                    >
                      <span>Trường bắt buộc</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group row mb-3 ">
                <label class="col-4 col-form-label ">Mục tiêu khóa học <span>(*)</span></label>
                <div class="col-6">
                  <input 
                    class="form-control" 
                    formControlName="tn_purpose" 
                    [readonly]="listView[0]"
                    [ngClass]="{
                      'is-invalid': submitted && form.controls.tn_purpose.errors
                    }" 
                    />
                    <div
                    *ngIf="submitted && form.controls.tn_purpose.errors"
                    class="invalid-feedback"
                  >
                    <span *ngIf="form.controls.tn_purpose.errors.required"
                      >Trường bắt buộc</span
                    >
                  </div>
                </div>
              </div>
              <div class="form-group row mb-3">
                <!-- <label class="col-4 col-form-label">Đánh giá</label> -->
                <div class="col-6">
                  <!-- <input class="form-control" formControlName="" />  -->
                 </div>
              </div> 
            </div>
          </div>
        </div>
        
        <div class="row justify-content-end mr-2">
          <div class="text-sm-right">
            <button
              class="btn btn-success mb-2 mr-1 button-link"
              [disabled]="!form.dirty"
              (click)="onSubmit()"
            >
              Lưu lại
            </button>
            <a class="btn btn-danger mb-2 mr-1 button-link" (click)="onChangeToMain()">Hủy </a>
          </div>
        </div>
      </div>
    </div>
   
  </div>
</app-main-container>
